### 起因

<<>>公司终于给换win本了，果不其然是美帝良心的yoga。原以为联想的笔记本对linux兼容都很好，但还是翻车了。细数一下踩的坑![sticker](yellow-face/12)

### 踩坑

1. 一开始我准备好了安装盘，开机按`F2`和`Delete`死活进不去bios，百度才发现原来要和`fn`一起按。
2. 关闭bios安全启动，`fn`+ `F12`选择usb启动，进入Manjaro boot界面，看起来没问题。但是启动后，屏幕狂闪，移动鼠标就闪烁，貌似是屏幕刷新故障。然后我关机了，win用了几天。
3. 周末在家继续尝试，外接显示器发现不闪烁，笔记本屏幕闪烁，google后发现了#[这个网址](https://wiki.archlinux.org/title/Lenovo_Yoga_14s_2021)，arch的社区还是庞大啊，对笔记本型号都有专门的解决方案。
4. 我根据上面的说明，改`/etc/default/grub`，但是在`sudo update-grub`时报错了，查了一下，应该是因为这是启动盘，`/mnt`是只读的，无奈，先用不闪烁的显示器屏幕装好了系统。
5. 装好后，按照上面的方案，加两个参数，屏幕不闪键盘也能用了。

> 到此硬件基本搞定，系统装好了![sticker](aru/61)。下面就是软件部分。

1. 先在网上找教程，换源，装googlepinyin，然后发现命令行和系统软件里无法切换输入法。查了半天才发现kde下需要另外装一个`kcm-fcitx`包。
2. 触摸板没有手势，影响体验。网上查了一下，安装`libinput-gesture`和`gesture`，配置手势，能用，但不流畅。
3. 没有linux企业微信，上班都用企业微信沟通，不得不骂一下垃圾tx。首先找到的解决方案是用deepin的包，但是启动时报错，后面查了一下改好了(还发现`run.sh`的Author是一个前同事)。但是改winecfg无法缩放，而且cpu占用很高，有20%，不知道是wine的问题还是软件的问题，反正这个方案肯定是不行的。
4. 后面尝试**virtual box**装win7，安装增强工具时又报错了，网上查，找到一个解决方法：手动下载一个低版本的增强工具镜像，然后安装。试了一下发现可行。弄好后，关闭窗口工具隐藏win任务栏，企业微信窗口基本以假乱真了，而且可以双向剪贴板，双向拖放。关键是cpu占用不到5%。

到此软硬件都弄好了，周一上班就可以试试开发体验。  

-(#888: 更新：企业微信体验太差；笔记本屏幕分辨率过高，使用`xrandr`会导致画面撕裂；manjaro的色彩管理没搞明白，让本就垃圾的显示器更伤眼了。遂换回win11，但是换成了专业版。还是自己太菜了![sticker](aru/64))-

### 小结
<<>>折腾了不少时间，还是有收获的，linux就需要自己折腾。
<<>>还有，Mac真不好用。